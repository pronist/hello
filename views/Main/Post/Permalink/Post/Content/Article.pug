article#article(x-ref='article')
  template(
    x-ref='articleTemplate'
    x-teleport='#article')
    .desc
      | #{`[##_${type}_rep_desc_##]`}
      include PostBtn/Subscription
      include PostBtn/Support

style(once='article')
  :postcss
    #tt-body-page {
      #article {
        .contents_style {
          @apply text-left p-0 leading-loose text-h-600 dark:text-h-200;

          a {
            @apply text-h-orange dark:text-h-blue decoration-0;
          }

          h2,
          h3,
          h4 {
            @apply my-5 font-medium scroll-mt-20;

            a {
              @apply text-h-600 dark:text-h-200;
            }
          }

          h2 {
            @apply text-xl lg:text-2xl;
          }

          h3 {
            @apply text-lg lg:text-xl;
          }

          h4 {
            @apply text-base lg:text-lg;
          }

          ol[data-ke-list-type],
          ul[data-ke-list-type] {
            @apply flex flex-col gap-y-1 list-inside my-5;

            ol[data-ke-list-type],
            ul[data-ke-list-type] {
              @apply my-0 ml-6;
            }
          }

          p,
          ol[data-ke-list-type],
          ul[data-ke-list-type],
          table[data-ke-align],
          blockquote[data-ke-style=style2],
          blockquote[data-ke-style=style3] {
            @apply text-h-600 dark:text-h-300;

            b,
            strong {
              @apply font-bold;
            }

            a {
              @apply inline-block text-h-orange dark:text-h-blue;
            }

            code {
              @apply rounded-md relative -top-[1px] px-1.5 py-0.5 whitespace-normal text-sm font-sans text-h-orange bg-h-200;
              @apply dark:text-h-blue dark:bg-h-700;
            }
          }

          figure,
          pre,
          table[data-ke-align],
          [data-ke-type=moreLess] {
            @apply my-5;
          }

          hr[data-ke-style] {
            @apply dark:invert dark:brightness-0;
          }

          table[data-ke-align] {
            td,
            th {
              @apply bg-transparent border-0 border-b border-solid border-h-300 px-3 py-4 box-border text-sm leading-loose text-h-600;
              @apply dark:text-h-200 dark:border-h-600;
            }
          }

          figure {
            figcaption {
              @apply text-h-400 text-center text-sm leading-loose;
            }

            &.imageblock.alignCenter,
            &.imagegridblock {
              @apply max-lg:w-full !important;
            }

            &.imageblock,
            &.imagegridblock {
              span,
              a:not([data-pswp-src]) {
                @apply block relative max-w-full max-h-full w-auto h-auto;

                &::after {
                  @apply content-[''] block h-0 w-full;
                }

                img {
                  @apply absolute top-0 left-0 w-full h-full block;
                }
              }
            }

            &.imageslideblock {
              .image-container {
                @apply min-h-0 max-w-full max-h-full w-auto h-auto !important;

                &::after {
                  @apply content-[''] block h-0 w-full;
                }

                .selected {
                  @apply absolute top-0 left-0 max-w-full max-h-full w-full h-full flex justify-center items-center;

                  img {
                    @apply w-auto h-auto block;
                  }
                }
              }
            }

            &[data-ke-type=opengraph] {
              a {
                @apply border-0;

                .og-image {
                  @apply border-r-0 overflow-hidden;
                }
              }

              .og-text {
                @apply bg-h-200 dark:bg-h-700;

                .og-title,
                .og-desc,
                .og-host {
                  @apply text-h-500 dark:text-h-200 font-sans;
                }

                .og-title {
                  @apply text-h-600 font-bold;
                }
              }
            }

            &.fileblock {
              @apply border-0 bg-h-200 dark:bg-h-700;

              .filename {
                @apply mt-3;

                .name {
                  @apply h-auto;
                }
              }

              .filename,
              .size {
                @apply dark:text-h-200;
              }

              .image,
              a::after {
                @apply dark:invert dark:brightness-0;
              }
            }
          }

          [data-ke-type=moreLess] {
            @apply relative;

            &::before {
              @apply content-[''] absolute top-4 right-0 w-full h-0 w-full -z-[1] border-b border-dashed border-h-300 dark:border-h-600;
            }

            &.open {
              .btn-toggle-moreless::before {
                @apply fa-circle-arrow-down;
              }
            }

            .btn-toggle-moreless {
              @apply bg-h-700 text-h-200 text-xs font-bold rounded-md px-3 py-2 inline-block;

              &::before {
                @apply mr-1.5 fa-circle-arrow-right;
              }
            }

            .moreless-content {
              @apply mt-6;
            }
          }

          blockquote[data-ke-style] {
            @apply font-[initial] my-4 text-h-600 dark:text-h-200 font-sans;

            &[data-ke-style=style1] {
              @apply font-medium text-xl pt-7 leading-loose text-h-600 dark:text-h-200;
            }

            &[data-ke-style=style2] {
              @apply border-l-2 border-solid border-h-300 dark:border-h-600 pl-3 pr-1 text-h-400 text-left text-sm leading-loose;
            }

            &[data-ke-style=style3] {
              @apply p-5 rounded-md border-0 text-h-400 bg-h-200 dark:bg-h-700 dark:text-h-400 leading-loose;
            }
          }

          pre {
            code {
              @apply rounded-md p-4 text-sm leading-relaxed;

              &.hljs {
                @apply bg-h-200 dark:bg-h-700;
              }
            }
          }
        }
      }
    }

style(once='article-postbtn')
  :postcss
    #tt-body-page {
      #article {
        .container_postbtn {
          @apply flex gap-x-2 p-0 pt-9 text-h-600 dark:text-h-200;

          .postbtn_like > .wrap_btn:not([id^=reaction-]) > button,
          .btn_subscription,
          .tt-btn-support {
            @apply w-9 h-9 inline-block shadow-none outline-0 rounded-md cursor-pointer duration-200 leading-none text-[0] p-0 m-0 bg-h-200 border-0 hover:bg-h-300 before:text-h-500;
            @apply dark:bg-h-700 dark:before:text-h-200 dark:hover:bg-h-600;
          }

          .postbtn_like {
            @apply border-0 p-0 flex gap-x-2;

            .wrap_btn {
              @apply inline-block border-0;

              button,
              button[data-entry-id],
              .uoc-count {
                &::before {
                  @apply font-bold text-sm;
                }
              }

              .ico_like,
              .ico_share,
              .ico_statistics,
              .ico_etc {
                @apply text-hidden bg-none;
              }

              &[id^=reaction-] button {
                @apply w-16 h-9 rounded-md bg-h-700 hover:bg-h-600;

                .uoc-icon {
                  @apply text-h-200;
                }

                .uoc-count {
                  @apply font-bold leading-none;

                  &::before {
                    @apply text-sm mr-1.5 fa-heart;
                  }
                }
              }

              &.wrap_btn_share .btn_share::before {
                @apply fa-share-nodes;
              }

              button[data-entry-id] {
                &::before {
                  @apply fa-chart-pie;
                }
              }

              &.wrap_btn_etc {
                .btn_etc1::before {
                  @apply fa-wrench;
                }

                .btn_etc2::before {
                  @apply fa-ellipsis;
                }
              }
            }
          }
        }
      }
    }

style(once='article-tistory-ccl-layer')
  :postcss
    #tt-body-page {
      #tistoryCclLayer {
        @apply shadow-none border-0 bg-h-200 text-h-400 rounded-md;
        @apply dark:bg-h-700 dark:text-h-300;

        span {
          @apply text-h-400;
        }

        .ico_arrbt {
          @apply hidden;
        }
      }
    }

style(once='article-tistory-layer')
  :postcss
    #tt-body-page {
      #tistorySnsLayer,
      #tistoryEtcLayer {
        @apply rounded-md shadow-none bg-h-200;
        @apply dark:bg-h-700;

        .btn_mark {
          @apply text-h-400 dark:text-h-300;

          &:hover {
            @apply bg-h-300 dark:bg-h-600 dark:text-h-200;
          }
        }

        .ico_arrbt {
          @apply hidden;
        }

        .bundle_post a {
          @apply text-h-400 dark:text-h-300 no-underline;
        }
      }
    }
